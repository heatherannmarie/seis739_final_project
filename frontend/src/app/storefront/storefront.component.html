<h2>Store</h2>

<div class="store-grid">
    @for (item of inventory; track item.itemID) {
    <div class="store-card">
        <h3>{{ item.itemName }}</h3>
        <p>Price: ${{ item.itemPrice.toFixed(2) }}</p>
        <p>In Stock: {{ item.availableInventory }}</p>
        @if (item.availableInventory > 0) {
        <span class="available">Available</span>
        @if (!isParent) {
        <button (click)="purchaseItem(item.itemID)">Purchase</button>
        }
        } @else {
        <span class="out-of-stock">Out of Stock</span>
        }
    </div>
    }
</div>

@if (isParent) {
<form (ngSubmit)="onSubmit()">
    <h3>Add Item</h3>

    <label for="itemName">Item Name</label>
    <input type="text" id="itemName" [(ngModel)]="itemName" name="itemName" required>

    <label for="itemPrice">Item Price</label>
    <input type="number" id="itemPrice" [(ngModel)]="itemPrice" name="itemPrice" required>

    <label for="itemQuantity">Quantity</label>
    <input type="number" id="itemQuantity" [(ngModel)]="itemQuantity" name="itemQuantity" required>

    <button type="submit">Add Item</button>
</form>
}